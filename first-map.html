<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>First Map</title>
    <script src="js/mapbox-geocoder-utils.js"></script>
    <script src="js/keys.js"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        #map {
            width: 100%;
            height: 900px;

        }
    </style>
</head>
<body>



<div id='map'></div>


<script>
    "use strict"

    mapboxgl.accessToken = MAPBOX_API_TOKEN;

    // var map = new mapboxgl.Map({
    //     container: 'map', // container ID
    //     style: 'mapbox://styles/mapbox/streets-v11', // style URL
    //     center: [-77.0369, 38.9072], // starting position [lng, lat]
    //     zoom: 12 // starting zoom
    // });

    // setTimeout (function(){
    //     map.setCenter[-98.4916, 29.4252]
    //     map.setZoom(1)
    //     map.setStyle('mapbox://styles/mapbox/satellite-streets-v11')
    // }, 5.0*1000)

    // var marker = new mapboxgl.Marker({draggable: true})
    //     .setLngLat([-77.0502, 38.8893])
    //     .addTo(map);
    //     // .setPopup(popup)
    //
    // var popup = new mapboxgl.Popup()
    //     .setHTML("<h1>Lincoln Memorial</h1>")
    //     marker.setPopup(popup)
    //
    // marker.on('dragend', function(){
    //     alert(marker.getLngLat());
    // })
    //
    // var map = new mapboxgl.Map({
    //     container: 'map', // container ID
    //     style: 'mapbox://styles/mapbox/streets-v11', // style URL
    //     center: [-98.4916, 29.4552], // starting position [lng, lat]
    //     zoom: 11 // starting zoom
    // });

    geocode("Zion National Park", MAPBOX_API_TOKEN).then(function (data) {
        console.log(data)
    })

    // reverseGeocode({lng: -98.3, lat: 29.56}, MAPBOX_API_TOKEN).then(function (data) {
    //     console.log(data)
    // })



    // Mini - Exercise 4 (before final exercise)
    // Create an HTML file called mapbox-4.html centered on San Antonio that programmatically is re-centered over Zion National Park using the coordinates of the park by geocoding the physical address.
    // Add the latitude and longitude of Honolulu, Hawaii and use reverse geocoding to move the map to this location by geocoding inside of the reverseGeocode function.

    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-98.4916, 29.4552],
        zoom: 11
    });

    // function travelToZion () {
    // geocode("Zion National Park", MAPBOX_API_TOKEN).then(function (data) {
    //     map.setCenter(data);
    //
    //     setTimeout(travelToHonolulu, 3000);
    //     });
    // }
    //
    // function travelToHonolulu () {
    // reverseGeocode({lng:-157.8557, lat: 21.3045}, MAPBOX_API_TOKEN).then(function (data) {
    //     geocode(data, MAPBOX_API_TOKEN).then(function (data) {
    //         map.setCenter(data);
    //
    //         });
    //     });
    // }
    // setTimeout(travelToZion, 3000)



    const coordinates = [
        [-157.8557, 21.3045],
        [-112.9884495, 37.200947]
    ];

    map.on('load', function () {
        for (const [index, coordinate] of coordinates.entries()) {
            setTimeout(function () {
                map.jumpTo({ center: coordinate });
            }, 2000 * index);
        }
    });



</script>

</body>
</html>